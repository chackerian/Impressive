{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/nathanchackerian/Desktop/Impressive/screens/SettingsScreen.js\";\nimport React, { useEffect, useRef, useState, setState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Button from \"./Button\";\nimport TextInput from \"./TextInput\";\nimport * as Facebook from \"expo-auth-session/providers/facebook\";\nimport { useNavigation } from '@react-navigation/native';\nimport NavLogout from \"./NavLogout\";\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport firebase from 'firebase/app';\nimport { storage, store } from \"../App.js\";\nexport default function SettingsScreen(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      about = _useState2[0],\n      setAbout = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      interests = _useState6[0],\n      setInterests = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      location = _useState8[0],\n      setLocation = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      locationString = _useState10[0],\n      setLocationString = _useState10[1];\n\n  var _useState11 = useState(new Date()),\n      _useState12 = _slicedToArray(_useState11, 2),\n      date = _useState12[0],\n      setDate = _useState12[1];\n\n  var _useState13 = useState(true),\n      _useState14 = _slicedToArray(_useState13, 2),\n      show = _useState14[0],\n      setShow = _useState14[1];\n\n  var onChange = function onChange(event, selectedDate) {\n    var currentDate = selectedDate || date;\n    setDate(currentDate);\n  };\n\n  var navigation = useNavigation();\n\n  var getAge = function getAge(age) {\n    return Math.floor((new Date() - new Date(age).getTime()) / 3.15576e+10);\n  };\n\n  function save() {\n    var user = props.route.params.user.email;\n    var userAge = getAge(date);\n    console.log(\"INFO\", date, userAge, location, locationString);\n    store.collection('users').doc(user).update({\n      name: name || \"\",\n      about: about || \"\",\n      interests: interests || \"\",\n      birthday: date || \"\",\n      age: userAge || \"\"\n    });\n    navigation.navigate(\"Dashboard\");\n  }\n\n  function initValues() {\n    var docRef = store.collection('users').doc(props.route.params.user.email);\n    docRef.onSnapshot(function (doc) {\n      if (doc.exists) {\n        console.log(\"DOC\", doc.data());\n        setName(doc.data().name || \"\");\n        setInterests(doc.data().interests || \"\");\n        setAbout(doc.data().about || \"\");\n        setLocation(doc.data().location);\n      }\n    });\n  }\n\n  useEffect(function () {\n    initValues();\n  }, []);\n  var styles = StyleSheet.create({\n    containers: {\n      alignItems: 'center',\n      height: '90%'\n    },\n    buttons: {\n      color: 'black',\n      height: 10\n    },\n    locations: {\n      width: 300,\n      height: 10\n    }\n  });\n  return React.createElement(ScrollView, {\n    keyboardShouldPersistTaps: 'handled',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, React.createElement(NavLogout, {\n    logout: props.route.params.logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }), React.createElement(View, {\n    style: styles.containers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    label: \"Name\",\n    placeholderTextColor: \"#666666\",\n    theme: {\n      colors: {\n        primary: 'blue',\n        underlineColor: 'transparent'\n      }\n    },\n    value: name,\n    onChangeText: setName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), React.createElement(DateTimePicker, {\n    style: {\n      width: 200,\n      height: 30\n    },\n    value: date,\n    mode: \"date\",\n    placeholder: \"select date\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    multiline: true,\n    numberOfLines: 3,\n    label: \"About Me\",\n    placeholderTextColor: \"#666666\",\n    theme: {\n      colors: {\n        primary: 'blue',\n        underlineColor: 'transparent'\n      }\n    },\n    value: about,\n    onChangeText: setAbout,\n    style: [styles.textInput],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    multiline: true,\n    numberOfLines: 3,\n    label: \"Interests\",\n    placeholderTextColor: \"#666666\",\n    theme: {\n      colors: {\n        primary: 'blue',\n        underlineColor: 'transparent'\n      }\n    },\n    value: interests,\n    onChangeText: setInterests,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    mode: \"outlined\",\n    color: \"black\",\n    onPress: save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, \"Connect Instagram\"), React.createElement(Button, {\n    mode: \"outlined\",\n    color: \"black\",\n    onPress: save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, \"Connect Facebook\"), React.createElement(Button, {\n    mode: \"outlined\",\n    color: \"black\",\n    onPress: save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"Save\")));\n}","map":{"version":3,"sources":["/Users/nathanchackerian/Desktop/Impressive/screens/SettingsScreen.js"],"names":["React","useEffect","useRef","useState","setState","Button","TextInput","Facebook","useNavigation","NavLogout","DateTimePicker","firebase","storage","store","SettingsScreen","props","about","setAbout","name","setName","interests","setInterests","location","setLocation","locationString","setLocationString","Date","date","setDate","show","setShow","onChange","event","selectedDate","currentDate","navigation","getAge","age","Math","floor","getTime","save","user","route","params","email","userAge","console","log","collection","doc","update","birthday","navigate","initValues","docRef","onSnapshot","exists","data","styles","StyleSheet","create","containers","alignItems","height","buttons","color","locations","width","logout","colors","primary","underlineColor","textInput"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState, setState} from 'react'\nimport {StyleSheet, Text, View, ScrollView, Platform } from 'react-native';\nimport Button from './Button'\nimport TextInput from './TextInput'\nimport * as Facebook from \"expo-auth-session/providers/facebook\";\nimport { useNavigation } from '@react-navigation/native';\nimport NavLogout from './NavLogout';\nimport DateTimePicker from '@react-native-community/datetimepicker';\n// import { GooglePlacesAutocomplete } from 'react-native-google-places-autocomplete';\n\nimport firebase from 'firebase/app';\nimport { storage, store } from \"../App.js\";\n\nexport default function SettingsScreen(props) {\n\n  const [about, setAbout] = useState('');\n  const [name, setName] = useState('');\n  const [interests, setInterests] = useState('');\n  const [location, setLocation] = useState('');\n  const [locationString, setLocationString] = useState('');\n  const [date, setDate] = useState(new Date());\n  const [show, setShow] = useState(true);\n\n  const onChange = (event, selectedDate) => {\n    const currentDate = selectedDate || date;\n    setDate(currentDate);\n  };\n\n  const navigation = useNavigation();\n\n  const getAge = age => Math.floor((new Date() - new Date(age).getTime()) / 3.15576e+10)\n\n  function save(){\n    var user = props.route.params.user.email\n    var userAge = getAge(date)\n    console.log(\"INFO\", date, userAge, location, locationString)\n    store.collection('users').doc(user).update({\n      name: name || \"\",\n      about: about || \"\",\n      interests: interests || \"\",\n      birthday: date || \"\",\n      age: userAge || \"\",\n    })\n    navigation.navigate(\"Dashboard\")\n  }\n\n  function initValues() {\n\n    var docRef = store.collection('users').doc(props.route.params.user.email)\n    docRef.onSnapshot((doc) => {\n      if (doc.exists) {\n        console.log(\"DOC\", doc.data())\n        setName(doc.data().name || \"\");\n        setInterests(doc.data().interests || \"\");\n        setAbout(doc.data().about || \"\");\n        // setDate(doc.data().birthday);\n        setLocation(doc.data().location);\n      }\n    });\n  }\n\n  useEffect(() => {\n    initValues()\n  },[])\n\n  const styles = StyleSheet.create({\n    containers: {\n      alignItems: 'center',\n      height: '90%',\n    },\n    buttons: {\n      color: 'black',\n       height: 10,\n    },\n    locations: {\n      width: 300,\n      height: 10,\n    }\n  });\n\n  return (\n    <ScrollView keyboardShouldPersistTaps={'handled'}>\n    <NavLogout logout={props.route.params.logout}/>\n      <View style={styles.containers}>\n        <TextInput\n          label=\"Name\"\n          placeholderTextColor=\"#666666\"\n          theme={{ colors: { primary: 'blue',underlineColor:'transparent',}}}\n          value={name}\n          onChangeText={setName}\n        />\n\n        <DateTimePicker\n          style={{width: 200, height: 30}}\n          value={date}\n          mode=\"date\"\n          placeholder=\"select date\"\n          onChange={onChange}\n        />\n\n        <TextInput\n          multiline\n          numberOfLines={3}\n          label=\"About Me\"\n          placeholderTextColor=\"#666666\"\n          theme={{ colors: { primary: 'blue',underlineColor:'transparent',}}}\n          value={about}\n          onChangeText={setAbout}\n          style={[styles.textInput]}\n        />\n        \n        <TextInput\n          multiline\n          numberOfLines={3}\n          label=\"Interests\"\n          placeholderTextColor=\"#666666\"\n          theme={{ colors: { primary: 'blue',underlineColor:'transparent',}}}\n          value={interests}\n          onChangeText={setInterests}\n        />\n\n        <Button\n          mode=\"outlined\"\n          color='black'\n          onPress={save}>Connect Instagram</Button>\n\n        <Button\n          mode=\"outlined\"\n          color='black'\n          onPress={save}>Connect Facebook</Button>\n\n        <Button\n          mode=\"outlined\"\n          color='black'\n          onPress={save}>Save</Button>\n        </View>\n    </ScrollView>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}