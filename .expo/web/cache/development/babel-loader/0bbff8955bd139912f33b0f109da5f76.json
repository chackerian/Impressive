{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { UnavailabilityError } from '@unimodules/core';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { PermissionStatus } from 'unimodules-permissions-interface';\nimport ExponentFacebook from \"./ExponentFacebook\";\nexport { PermissionStatus };\nvar androidPermissionsResponse = {\n  granted: true,\n  expires: 'never',\n  canAskAgain: true,\n  status: PermissionStatus.GRANTED\n};\nexport function requestPermissionsAsync() {\n  return _requestPermissionsAsync.apply(this, arguments);\n}\n\nfunction _requestPermissionsAsync() {\n  _requestPermissionsAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(Platform.OS === 'android')) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve(androidPermissionsResponse));\n\n          case 2:\n            if (ExponentFacebook.requestPermissionsAsync) {\n              _context.next = 4;\n              break;\n            }\n\n            throw new UnavailabilityError('Facebook', 'requestPermissionsAsync');\n\n          case 4:\n            _context.next = 6;\n            return ExponentFacebook.requestPermissionsAsync();\n\n          case 6:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _requestPermissionsAsync.apply(this, arguments);\n}\n\nexport function getPermissionsAsync() {\n  return _getPermissionsAsync.apply(this, arguments);\n}\n\nfunction _getPermissionsAsync() {\n  _getPermissionsAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(Platform.OS === 'android')) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", Promise.resolve(androidPermissionsResponse));\n\n          case 2:\n            if (ExponentFacebook.getPermissionsAsync) {\n              _context2.next = 4;\n              break;\n            }\n\n            throw new UnavailabilityError('Facebook', 'getPermissionsAsync');\n\n          case 4:\n            _context2.next = 6;\n            return ExponentFacebook.getPermissionsAsync();\n\n          case 6:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getPermissionsAsync.apply(this, arguments);\n}\n\nexport function logInWithReadPermissionsAsync() {\n  return _logInWithReadPermissionsAsync.apply(this, arguments);\n}\n\nfunction _logInWithReadPermissionsAsync() {\n  _logInWithReadPermissionsAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee3() {\n    var options,\n        nativeLoginResult,\n        _args3 = arguments;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            options = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {};\n\n            if (ExponentFacebook.logInWithReadPermissionsAsync) {\n              _context3.next = 3;\n              break;\n            }\n\n            throw new UnavailabilityError('Facebook', 'logInWithReadPermissionsAsync');\n\n          case 3:\n            _context3.next = 5;\n            return ExponentFacebook.logInWithReadPermissionsAsync(options);\n\n          case 5:\n            nativeLoginResult = _context3.sent;\n            return _context3.abrupt(\"return\", transformNativeFacebookLoginResult(nativeLoginResult));\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _logInWithReadPermissionsAsync.apply(this, arguments);\n}\n\nexport function getAuthenticationCredentialAsync() {\n  return _getAuthenticationCredentialAsync.apply(this, arguments);\n}\n\nfunction _getAuthenticationCredentialAsync() {\n  _getAuthenticationCredentialAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee4() {\n    var nativeAccessTokenResult;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (ExponentFacebook.getAuthenticationCredentialAsync) {\n              _context4.next = 2;\n              break;\n            }\n\n            throw new UnavailabilityError('Facebook', 'getAuthenticationCredentialAsync');\n\n          case 2:\n            _context4.next = 4;\n            return ExponentFacebook.getAuthenticationCredentialAsync();\n\n          case 4:\n            nativeAccessTokenResult = _context4.sent;\n            return _context4.abrupt(\"return\", transformNativeFacebookAuthenticationCredential(nativeAccessTokenResult));\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getAuthenticationCredentialAsync.apply(this, arguments);\n}\n\nexport function logOutAsync() {\n  return _logOutAsync.apply(this, arguments);\n}\n\nfunction _logOutAsync() {\n  _logOutAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee5() {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (ExponentFacebook.logOutAsync) {\n              _context5.next = 2;\n              break;\n            }\n\n            throw new UnavailabilityError('Facebook', 'logOutAsync');\n\n          case 2:\n            _context5.next = 4;\n            return ExponentFacebook.logOutAsync();\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _logOutAsync.apply(this, arguments);\n}\n\nexport function setAdvertiserTrackingEnabledAsync(_x) {\n  return _setAdvertiserTrackingEnabledAsync.apply(this, arguments);\n}\n\nfunction _setAdvertiserTrackingEnabledAsync() {\n  _setAdvertiserTrackingEnabledAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee6(enabled) {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (ExponentFacebook.setAdvertiserTrackingEnabledAsync) {\n              _context6.next = 2;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", false);\n\n          case 2:\n            _context6.next = 4;\n            return ExponentFacebook.setAdvertiserTrackingEnabledAsync(enabled);\n\n          case 4:\n            return _context6.abrupt(\"return\", _context6.sent);\n\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _setAdvertiserTrackingEnabledAsync.apply(this, arguments);\n}\n\nexport function setAutoLogAppEventsEnabledAsync(_x2) {\n  return _setAutoLogAppEventsEnabledAsync.apply(this, arguments);\n}\n\nfunction _setAutoLogAppEventsEnabledAsync() {\n  _setAutoLogAppEventsEnabledAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee7(enabled) {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (ExponentFacebook.setAutoLogAppEventsEnabledAsync) {\n              _context7.next = 2;\n              break;\n            }\n\n            throw new UnavailabilityError('Facebook', 'setAutoLogAppEventsEnabledAsync');\n\n          case 2:\n            _context7.next = 4;\n            return ExponentFacebook.setAutoLogAppEventsEnabledAsync(enabled);\n\n          case 4:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _setAutoLogAppEventsEnabledAsync.apply(this, arguments);\n}\n\nexport function setAutoInitEnabledAsync(_x3) {\n  return _setAutoInitEnabledAsync.apply(this, arguments);\n}\n\nfunction _setAutoInitEnabledAsync() {\n  _setAutoInitEnabledAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee8(enabled) {\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            console.warn('The `autoInitEnabled` option has been removed from Facebook SDK â€” we recommend to explicitly use `initializeAsync` instead.');\n\n          case 1:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _setAutoInitEnabledAsync.apply(this, arguments);\n}\n\nexport function initializeAsync(_x4, _x5) {\n  return _initializeAsync.apply(this, arguments);\n}\n\nfunction _initializeAsync() {\n  _initializeAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee9(optionsOrAppId, appName) {\n    var options;\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            if (ExponentFacebook.initializeAsync) {\n              _context9.next = 2;\n              break;\n            }\n\n            throw new UnavailabilityError('Facebook', 'initializeAsync');\n\n          case 2:\n            options = {};\n\n            if (typeof optionsOrAppId === 'string') {\n              options.appId = optionsOrAppId;\n              options.appName = appName;\n              console.warn('The parameters of `initializeAsync(appId, appName)` have changed to support future platforms, you must now provide an object instead: initializeAsync({ appId, appName }).');\n            } else {\n              options = optionsOrAppId;\n            }\n\n            _context9.next = 6;\n            return ExponentFacebook.initializeAsync(options);\n\n          case 6:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n  return _initializeAsync.apply(this, arguments);\n}\n\nexport function setAdvertiserIDCollectionEnabledAsync(_x6) {\n  return _setAdvertiserIDCollectionEnabledAsync.apply(this, arguments);\n}\n\nfunction _setAdvertiserIDCollectionEnabledAsync() {\n  _setAdvertiserIDCollectionEnabledAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee10(enabled) {\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            if (ExponentFacebook.setAdvertiserIDCollectionEnabledAsync) {\n              _context10.next = 2;\n              break;\n            }\n\n            throw new UnavailabilityError('Facebook', 'setAdvertiserIDCollectionEnabledAsync');\n\n          case 2:\n            _context10.next = 4;\n            return ExponentFacebook.setAdvertiserIDCollectionEnabledAsync(enabled);\n\n          case 4:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _setAdvertiserIDCollectionEnabledAsync.apply(this, arguments);\n}\n\nfunction transformNativeFacebookLoginResult(input) {\n  if (input.type === 'cancel') return input;\n  return _objectSpread(_objectSpread({}, input), {}, {\n    refreshDate: typeof input.refreshDate === 'number' ? new Date(input.refreshDate) : input.refreshDate,\n    dataAccessExpirationDate: new Date(input.dataAccessExpirationDate),\n    expirationDate: new Date(input.expirationDate)\n  });\n}\n\nfunction transformNativeFacebookAuthenticationCredential(input) {\n  if (!input) return input;\n  return _objectSpread(_objectSpread({}, input), {}, {\n    refreshDate: typeof input.refreshDate === 'number' ? new Date(input.refreshDate) : input.refreshDate,\n    dataAccessExpirationDate: new Date(input.dataAccessExpirationDate),\n    expirationDate: new Date(input.expirationDate)\n  });\n}","map":{"version":3,"sources":["../src/Facebook.ts"],"names":[],"mappings":"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","sourcesContent":["import { UnavailabilityError } from '@unimodules/core';\nimport { Platform } from 'react-native';\nimport {\n  PermissionResponse,\n  PermissionStatus,\n  PermissionExpiration,\n} from 'unimodules-permissions-interface';\n\nimport ExponentFacebook from './ExponentFacebook';\nimport {\n  FacebookAuthenticationCredential,\n  FacebookLoginResult,\n  FacebookOptions,\n  FacebookInitializationOptions,\n} from './Facebook.types';\n\nexport {\n  FacebookLoginResult,\n  FacebookOptions,\n  FacebookAuthenticationCredential,\n  PermissionResponse,\n  PermissionStatus,\n  PermissionExpiration,\n};\n\nconst androidPermissionsResponse: PermissionResponse = {\n  granted: true,\n  expires: 'never',\n  canAskAgain: true,\n  status: PermissionStatus.GRANTED,\n};\n\nexport async function requestPermissionsAsync(): Promise<PermissionResponse> {\n  if (Platform.OS === 'android') {\n    return Promise.resolve(androidPermissionsResponse);\n  }\n\n  if (!ExponentFacebook.requestPermissionsAsync) {\n    throw new UnavailabilityError('Facebook', 'requestPermissionsAsync');\n  }\n  return await ExponentFacebook.requestPermissionsAsync();\n}\n\nexport async function getPermissionsAsync(): Promise<PermissionResponse> {\n  if (Platform.OS === 'android') {\n    return Promise.resolve(androidPermissionsResponse);\n  }\n\n  if (!ExponentFacebook.getPermissionsAsync) {\n    throw new UnavailabilityError('Facebook', 'getPermissionsAsync');\n  }\n  return await ExponentFacebook.getPermissionsAsync();\n}\n\nexport async function logInWithReadPermissionsAsync(\n  options: FacebookOptions = {}\n): Promise<FacebookLoginResult> {\n  if (!ExponentFacebook.logInWithReadPermissionsAsync) {\n    throw new UnavailabilityError('Facebook', 'logInWithReadPermissionsAsync');\n  }\n\n  const nativeLoginResult = await ExponentFacebook.logInWithReadPermissionsAsync(options);\n\n  return transformNativeFacebookLoginResult(nativeLoginResult);\n}\n\n/**\n * Returns the `FacebookAuthenticationCredential` object if a user is authenticated, and `null` if no valid authentication exists.\n *\n * You can use this method to check if the user should sign in or not.\n */\nexport async function getAuthenticationCredentialAsync(): Promise<FacebookAuthenticationCredential | null> {\n  if (!ExponentFacebook.getAuthenticationCredentialAsync) {\n    throw new UnavailabilityError('Facebook', 'getAuthenticationCredentialAsync');\n  }\n\n  const nativeAccessTokenResult = await ExponentFacebook.getAuthenticationCredentialAsync();\n\n  return transformNativeFacebookAuthenticationCredential(nativeAccessTokenResult);\n}\n\n/**\n * Logs out of the currently authenticated session.\n */\nexport async function logOutAsync(): Promise<void> {\n  if (!ExponentFacebook.logOutAsync) {\n    throw new UnavailabilityError('Facebook', 'logOutAsync');\n  }\n\n  await ExponentFacebook.logOutAsync();\n}\n\n/**\n * Sets whether Facebook SDK should enable advertising tracking,\n * (more info [here](https://developers.facebook.com/docs/app-events/guides/advertising-tracking-enabled)).\n *\n * Limitations:\n * 1. AdvertiserTrackingEnabled is only available for iOS 14+.\n * 2. For iOS 13 or earlier, AdvertiserTrackingEnabled uses the Limit Ad Tracking setting as its value.\n *\n * This method corresponds to [this](https://developers.facebook.com/docs/app-events/guides/advertising-tracking-enabled)\n *\n * @param enabled Whether advertising tracking of the Facebook SDK should be enabled\n * @return Whether the value is set successfully. It will always return false in Android, iOS 13 and below.\n */\nexport async function setAdvertiserTrackingEnabledAsync(enabled: boolean): Promise<boolean> {\n  if (!ExponentFacebook.setAdvertiserTrackingEnabledAsync) {\n    return false;\n  }\n  return await ExponentFacebook.setAdvertiserTrackingEnabledAsync(enabled);\n}\n\n/**\n * Sets whether Facebook SDK should log app events. App events involve eg. app installs,\n * app launches (more info [here](https://developers.facebook.com/docs/app-events/getting-started-app-events-android/#auto-events)\n * and [here](https://developers.facebook.com/docs/app-events/getting-started-app-events-ios#auto-events)).\n *\n * In some cases, you may want to disable or delay the collection of automatically logged events,\n * such as to obtain user consent or fulfill legal obligations.\n *\n * This method corresponds to [this](https://developers.facebook.com/docs/app-events/getting-started-app-events-ios#disable-auto-events)\n * and [this](https://developers.facebook.com/docs/app-events/getting-started-app-events-android/#disable-auto-events) native SDK methods.\n *\n * @param enabled Whether automatic events logging of the Facebook SDK should be enabled\n */\nexport async function setAutoLogAppEventsEnabledAsync(enabled: boolean): Promise<void> {\n  if (!ExponentFacebook.setAutoLogAppEventsEnabledAsync) {\n    throw new UnavailabilityError('Facebook', 'setAutoLogAppEventsEnabledAsync');\n  }\n  await ExponentFacebook.setAutoLogAppEventsEnabledAsync(enabled);\n}\n\n/**\n * @deprecated Explicitly call `initializeAsync` instead.\n */\nexport async function setAutoInitEnabledAsync(enabled: boolean): Promise<void> {\n  console.warn(\n    'The `autoInitEnabled` option has been removed from Facebook SDK â€” we recommend to explicitly use `initializeAsync` instead.'\n  );\n}\n\n/**\n * Calling this method ensures that the SDK is initialized.\n * You have to call this method before calling any method that uses\n * the FBSDK (ex: `logInWithReadPermissionsAsync`, `logOutAsync`) to ensure that\n * Facebook support is initialized properly.\n *\n * - On Android and iOS you can optionally provide an `appId` argument.\n *   - If you don't provide `appId`, the Facebook SDK will try to use `appId` from native app resources (which in standalone apps you define in `app.json`, in app store development clients are unavailable, and in bare apps you configure yourself according to [Facebook's setup documentation for iOS](https://developers.facebook.com/docs/facebook-login/ios#4--configure-your-project) and [Android](https://developers.facebook.com/docs/facebook-login/android#manifest)). If the Facebook SDK fails to find an `appId` value, the returned promise will be rejected.\n *   - The same resolution mechanism works for `appName`.\n * - If you provide an explicit `appId`, it will override any other source.\n *\n * @param options The options used to configure how Facebook is initialized\n */\nexport async function initializeAsync(\n  optionsOrAppId: FacebookInitializationOptions | string,\n  appName?: string\n): Promise<void> {\n  if (!ExponentFacebook.initializeAsync) {\n    throw new UnavailabilityError('Facebook', 'initializeAsync');\n  }\n\n  let options: FacebookInitializationOptions = {};\n\n  if (typeof optionsOrAppId === 'string') {\n    options.appId = optionsOrAppId;\n    options.appName = appName;\n    console.warn(\n      'The parameters of `initializeAsync(appId, appName)` have changed to support future platforms, you must now provide an object instead: initializeAsync({ appId, appName }).'\n    );\n  } else {\n    options = optionsOrAppId;\n  }\n\n  await ExponentFacebook.initializeAsync(options);\n}\n\n/**\n * Whether the Facebook SDK should collect advertiser ID properties, like the Apple IDFA\n * and Android Advertising ID, automatically. Advertiser IDs let you identify and target specific customers.\n * To learn more visit [Facebook documentation](https://developers.facebook.com/docs/app-ads/targeting/mobile-advertiser-ids)\n * describing that topic.\n *\n * In some cases, you may want to disable or delay the collection of `advertiser-id`,\n * such as to obtain user consent or fulfill legal obligations.\n *\n * This method corresponds to [this](https://developers.facebook.com/docs/app-events/getting-started-app-events-ios#disable-advertiser-id)\n * and [this](https://developers.facebook.com/docs/app-events/getting-started-app-events-android/#disable-advertiser-id) native SDK methods.\n * @param enabled Whether `advertiser-id` should be collected\n */\nexport async function setAdvertiserIDCollectionEnabledAsync(enabled: boolean): Promise<void> {\n  if (!ExponentFacebook.setAdvertiserIDCollectionEnabledAsync) {\n    throw new UnavailabilityError('Facebook', 'setAdvertiserIDCollectionEnabledAsync');\n  }\n  await ExponentFacebook.setAdvertiserIDCollectionEnabledAsync(enabled);\n}\n\nfunction transformNativeFacebookLoginResult(input: FacebookLoginResult): FacebookLoginResult {\n  if (input.type === 'cancel') return input;\n\n  return {\n    ...input,\n    refreshDate:\n      typeof input.refreshDate === 'number' ? new Date(input.refreshDate) : input.refreshDate,\n    dataAccessExpirationDate: new Date(input.dataAccessExpirationDate),\n    expirationDate: new Date(input.expirationDate),\n  };\n}\n\nfunction transformNativeFacebookAuthenticationCredential(\n  input: any\n): FacebookAuthenticationCredential | null {\n  if (!input) return input;\n  return {\n    ...input,\n    refreshDate:\n      typeof input.refreshDate === 'number' ? new Date(input.refreshDate) : input.refreshDate,\n    dataAccessExpirationDate: new Date(input.dataAccessExpirationDate),\n    expirationDate: new Date(input.expirationDate),\n  };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}