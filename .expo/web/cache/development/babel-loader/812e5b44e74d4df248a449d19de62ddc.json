{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _jsxFileName = \"/Users/nathanchackerian/Desktop/Impressive/screens/swipe/cardstack.js\",\n    _this4 = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nvar CardStack = function (_Component) {\n  _inherits(CardStack, _Component);\n\n  var _super = _createSuper(CardStack);\n\n  function CardStack(props) {\n    var _this;\n\n    _classCallCheck(this, CardStack);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      drag: new Animated.ValueXY({\n        x: 0,\n        y: 0\n      }),\n      dragDistance: new Animated.Value(0),\n      sindex: 0,\n      cardA: null,\n      cardB: null,\n      topCard: 'cardA',\n      shadowColor: 'green',\n      cards: [],\n      touchStart: 0\n    };\n    _this.distance = _this.constructor.distance;\n    _this._panResponder = PanResponder.create({\n      onStartShouldSetPanResponder: function onStartShouldSetPanResponder(evt, gestureState) {\n        return false;\n      },\n      onStartShouldSetPanResponderCapture: function onStartShouldSetPanResponderCapture(evt, gestureState) {\n        return false;\n      },\n      onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(evt, gestureState) {\n        var isVerticalSwipe = Math.sqrt(Math.pow(gestureState.dx, 2) < Math.pow(gestureState.dy, 2));\n\n        if (!_this.props.verticalSwipe && isVerticalSwipe) {\n          return false;\n        }\n\n        return Math.sqrt(Math.pow(gestureState.dx, 2) + Math.pow(gestureState.dy, 2)) > 10;\n      },\n      onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture(evt, gestureState) {\n        var isVerticalSwipe = Math.sqrt(Math.pow(gestureState.dx, 2) < Math.pow(gestureState.dy, 2));\n\n        if (!_this.props.verticalSwipe && isVerticalSwipe) {\n          return false;\n        }\n\n        return Math.sqrt(Math.pow(gestureState.dx, 2) + Math.pow(gestureState.dy, 2)) > 10;\n      },\n      onPanResponderGrant: function onPanResponderGrant(evt, gestureState) {\n        _this.props.onSwipeStart();\n\n        _this.setState({\n          touchStart: new Date().getTime()\n        });\n      },\n      onPanResponderMove: function onPanResponderMove(evt, gestureState) {\n        var movedX = gestureState.moveX - gestureState.x0;\n        var movedY = gestureState.moveY - gestureState.y0;\n\n        _this.props.onSwipe(movedX, movedY);\n\n        console.log(\"DX\", gestureState.dx);\n        var x = gestureState.dx;\n\n        if (x < 70) {\n          console.log('red');\n\n          _this.setState({\n            shadowColor: 'red'\n          });\n        } else if (x > 70) {\n          console.log('green');\n\n          _this.setState({\n            shadowColor: 'green'\n          });\n        }\n\n        var _this$props = _this.props,\n            verticalSwipe = _this$props.verticalSwipe,\n            horizontalSwipe = _this$props.horizontalSwipe;\n\n        var dragDistance = _this.distance(horizontalSwipe ? gestureState.dx : 0, verticalSwipe ? gestureState.dy : 0);\n\n        _this.state.dragDistance.setValue(dragDistance);\n\n        _this.state.drag.setValue({\n          x: horizontalSwipe ? gestureState.dx : 0,\n          y: verticalSwipe ? gestureState.dy : 0\n        });\n      },\n      onPanResponderTerminationRequest: function onPanResponderTerminationRequest(evt, gestureState) {\n        return true;\n      },\n      onPanResponderRelease: function onPanResponderRelease(evt, gestureState) {\n        _this.props.onSwipeEnd();\n\n        var currentTime = new Date().getTime();\n        var swipeDuration = currentTime - _this.state.touchStart;\n        var _this$props2 = _this.props,\n            verticalThreshold = _this$props2.verticalThreshold,\n            horizontalThreshold = _this$props2.horizontalThreshold,\n            disableTopSwipe = _this$props2.disableTopSwipe,\n            disableLeftSwipe = _this$props2.disableLeftSwipe,\n            disableRightSwipe = _this$props2.disableRightSwipe,\n            disableBottomSwipe = _this$props2.disableBottomSwipe;\n\n        if ((Math.abs(gestureState.dx) > horizontalThreshold || Math.abs(gestureState.dx) > horizontalThreshold * 0.6 && swipeDuration < 150) && _this.props.horizontalSwipe) {\n          var swipeDirection = gestureState.dx < 0 ? width * -1.5 : width * 1.5;\n\n          if (swipeDirection < 0 && !disableLeftSwipe) {\n            _this._nextCard('left', swipeDirection, gestureState.dy, _this.props.duration);\n          } else if (swipeDirection > 0 && !disableRightSwipe) {\n            _this._nextCard('right', swipeDirection, gestureState.dy, _this.props.duration);\n          } else {\n            _this._resetCard();\n          }\n        } else if ((Math.abs(gestureState.dy) > verticalThreshold || Math.abs(gestureState.dy) > verticalThreshold * 0.8 && swipeDuration < 150) && _this.props.verticalSwipe) {\n          var _swipeDirection = gestureState.dy < 0 ? height * -1 : height;\n\n          if (_swipeDirection < 0 && !disableTopSwipe) {\n            _this._nextCard('top', gestureState.dx, _swipeDirection, _this.props.duration);\n          } else if (_swipeDirection > 0 && !disableBottomSwipe) {\n            _this._nextCard('bottom', gestureState.dx, _swipeDirection, _this.props.duration);\n          } else {\n            _this._resetCard();\n          }\n        } else {\n          _this._resetCard();\n        }\n      },\n      onPanResponderTerminate: function onPanResponderTerminate(evt, gestureState) {},\n      onShouldBlockNativeResponder: function onShouldBlockNativeResponder(evt, gestureState) {\n        return true;\n      }\n    });\n    return _this;\n  }\n\n  _createClass(CardStack, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (typeof this.props.children === 'undefined') return;\n\n      if (!this._isSameChildren(this.props.children, prevProps.children)) {\n        var children = Array.isArray(this.props.children) ? this.props.children : [this.props.children];\n        var aIndex = this.state.topCard == 'cardA' ? this._getIndex(this.state.sindex - 2, children.length) : this._getIndex(this.state.sindex - 1, children.length);\n        var bIndex = this.state.topCard == 'cardB' ? this._getIndex(this.state.sindex - 2, children.length) : this._getIndex(this.state.sindex - 1, children.length);\n        this.setState({\n          cards: children,\n          cardA: children[aIndex] || null,\n          cardB: children[bIndex] || null\n        });\n      }\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(index, cards) {\n      return this.props.loop ? this.mod(index, cards) : index;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initDeck();\n    }\n  }, {\n    key: \"_isSameChildren\",\n    value: function _isSameChildren(a, b) {\n      if (typeof a != typeof b) return false;\n      if (typeof a === 'undefined') return false;\n\n      if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length != b.length) return false;\n\n        for (var i in a) {\n          if (a[i].key != b[i].key) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      if (a.key !== b.key) return false;\n      return true;\n    }\n  }, {\n    key: \"initDeck\",\n    value: function initDeck() {\n      if (typeof this.props.children === 'undefined') return;\n      var _this$props3 = this.props,\n          children = _this$props3.children,\n          loop = _this$props3.loop;\n      var cards = Array.isArray(children) ? children : [children];\n      var initialIndexA = this.props.initialIndex < cards.length ? this.props.initialIndex : 0;\n      var initialIndexB = loop ? this.mod(initialIndexA + 1, cards.length) : initialIndexA + 1;\n      var cardA = cards[initialIndexA] || null;\n      var cardB = cards[initialIndexB] || null;\n      this.setState({\n        cards: cards,\n        cardA: cardA,\n        cardB: cardB,\n        sindex: initialIndexB + 1\n      });\n    }\n  }, {\n    key: \"_resetCard\",\n    value: function _resetCard() {\n      Animated.timing(this.state.dragDistance, {\n        toValue: 0,\n        duration: this.props.duration,\n        useNativeDriver: this.props.useNativeDriver || false\n      }).start();\n      Animated.spring(this.state.drag, {\n        toValue: {\n          x: 0,\n          y: 0\n        },\n        duration: this.props.duration,\n        useNativeDriver: this.props.useNativeDriver || false\n      }).start();\n    }\n  }, {\n    key: \"goBackFromTop\",\n    value: function goBackFromTop() {\n      this._goBack('top');\n    }\n  }, {\n    key: \"goBackFromRight\",\n    value: function goBackFromRight() {\n      this._goBack('right');\n    }\n  }, {\n    key: \"goBackFromLeft\",\n    value: function goBackFromLeft() {\n      this._goBack('left');\n    }\n  }, {\n    key: \"goBackFromBottom\",\n    value: function goBackFromBottom() {\n      this._goBack('bottom');\n    }\n  }, {\n    key: \"mod\",\n    value: function mod(n, m) {\n      return (n % m + m) % m;\n    }\n  }, {\n    key: \"_goBack\",\n    value: function _goBack(direction) {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          cards = _this$state.cards,\n          sindex = _this$state.sindex,\n          topCard = _this$state.topCard;\n      if (sindex - 3 < 0 && !this.props.loop) return;\n      var previusCardIndex = this.mod(sindex - 3, cards.length);\n      var update = {};\n\n      if (topCard === 'cardA') {\n        update = _objectSpread(_objectSpread({}, update), {}, {\n          cardB: cards[previusCardIndex]\n        });\n      } else {\n        update = _objectSpread(_objectSpread({}, update), {}, {\n          cardA: cards[previusCardIndex]\n        });\n      }\n\n      this.setState(_objectSpread(_objectSpread({}, update), {}, {\n        topCard: topCard === 'cardA' ? 'cardB' : 'cardA',\n        sindex: sindex - 1\n      }), function () {\n        switch (direction) {\n          case 'top':\n            _this2.state.drag.setValue({\n              x: 0,\n              y: -height\n            });\n\n            _this2.state.dragDistance.setValue(height);\n\n            break;\n\n          case 'left':\n            _this2.state.drag.setValue({\n              x: -width,\n              y: 0\n            });\n\n            _this2.state.dragDistance.setValue(width);\n\n            break;\n\n          case 'right':\n            _this2.state.drag.setValue({\n              x: width,\n              y: 0\n            });\n\n            _this2.state.dragDistance.setValue(width);\n\n            break;\n\n          case 'bottom':\n            _this2.state.drag.setValue({\n              x: 0,\n              y: height\n            });\n\n            _this2.state.dragDistance.setValue(width);\n\n            break;\n\n          default:\n        }\n\n        Animated.spring(_this2.state.dragDistance, {\n          toValue: 0,\n          duration: _this2.props.duration,\n          useNativeDriver: _this2.props.useNativeDriver || false\n        }).start();\n        Animated.spring(_this2.state.drag, {\n          toValue: {\n            x: 0,\n            y: 0\n          },\n          duration: _this2.props.duration,\n          useNativeDriver: _this2.props.useNativeDriver || false\n        }).start();\n      });\n    }\n  }, {\n    key: \"swipeTop\",\n    value: function swipeTop() {\n      var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this._nextCard('top', 0, -height, d || this.props.duration);\n    }\n  }, {\n    key: \"swipeBottom\",\n    value: function swipeBottom() {\n      var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this._nextCard('bottom', 0, height, d || this.props.duration);\n    }\n  }, {\n    key: \"swipeRight\",\n    value: function swipeRight() {\n      var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this._nextCard('right', width * 1.5, 0, d || this.props.duration);\n    }\n  }, {\n    key: \"swipeLeft\",\n    value: function swipeLeft() {\n      var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this._nextCard('left', -width * 1.5, 0, d || this.props.duration);\n    }\n  }, {\n    key: \"_nextCard\",\n    value: function _nextCard(direction, x, y) {\n      var _this3 = this;\n\n      var duration = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 400;\n      var _this$props4 = this.props,\n          verticalSwipe = _this$props4.verticalSwipe,\n          horizontalSwipe = _this$props4.horizontalSwipe,\n          loop = _this$props4.loop;\n      var _this$state2 = this.state,\n          sindex = _this$state2.sindex,\n          cards = _this$state2.cards,\n          topCard = _this$state2.topCard;\n      var nextCard = loop ? Math.abs(sindex) % cards.length : sindex;\n      var index = loop ? this.mod(nextCard - 2, cards.length) : nextCard - 2;\n\n      if (index === cards.length - 1) {\n        this.props.onSwipedAll();\n      }\n\n      if (sindex - 2 < cards.length || loop) {\n        Animated.spring(this.state.dragDistance, {\n          toValue: 220,\n          duration: duration,\n          useNativeDriver: this.props.useNativeDriver || false\n        }).start();\n        Animated.timing(this.state.drag, {\n          toValue: {\n            x: horizontalSwipe ? x : 0,\n            y: verticalSwipe ? y : 0\n          },\n          duration: duration,\n          useNativeDriver: this.props.useNativeDriver || false\n        }).start(function () {\n          var newTopCard = topCard === 'cardA' ? 'cardB' : 'cardA';\n          var update = {};\n\n          if (newTopCard === 'cardA') {\n            update = _objectSpread(_objectSpread({}, update), {}, {\n              cardB: cards[nextCard]\n            });\n          }\n\n          if (newTopCard === 'cardB') {\n            update = _objectSpread(_objectSpread({}, update), {}, {\n              cardA: cards[nextCard]\n            });\n          }\n\n          _this3.state.drag.setValue({\n            x: 0,\n            y: 0\n          });\n\n          _this3.state.dragDistance.setValue(0);\n\n          _this3.setState(_objectSpread(_objectSpread({}, update), {}, {\n            topCard: newTopCard,\n            sindex: nextCard + 1\n          }));\n\n          _this3.props.onSwiped(index);\n\n          switch (direction) {\n            case 'left':\n              _this3.props.onSwipedLeft(index);\n\n              if (_this3.state.cards[index] && _this3.state.cards[index].props.onSwipedLeft) _this3.state.cards[index] && _this3.state.cards[index].props.onSwipedLeft();\n              break;\n\n            case 'right':\n              _this3.props.onSwipedRight(index);\n\n              if (_this3.state.cards[index] && _this3.state.cards[index].props.onSwipedRight) _this3.state.cards[index].props.onSwipedRight();\n              break;\n\n            case 'top':\n              _this3.props.onSwipedTop(index);\n\n              if (_this3.state.cards[index] && _this3.state.cards[index].props.onSwipedTop) _this3.state.cards[index].props.onSwipedTop();\n              break;\n\n            case 'bottom':\n              _this3.props.onSwipedBottom(index);\n\n              if (_this3.state.cards[index] && _this3.state.cards[index].props.onSwipedBottom) _this3.state.cards[index].props.onSwipedBottom();\n              break;\n\n            default:\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_setPointerEvents\",\n    value: function _setPointerEvents(topCard, topCardName) {\n      return {\n        pointerEvents: topCard === topCardName ? \"auto\" : \"none\"\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"Color\", this.state.shadowColor);\n      var _this$props5 = this.props,\n          secondCardZoom = _this$props5.secondCardZoom,\n          renderNoMoreCards = _this$props5.renderNoMoreCards;\n      var _this$state3 = this.state,\n          drag = _this$state3.drag,\n          dragDistance = _this$state3.dragDistance,\n          cardA = _this$state3.cardA,\n          cardB = _this$state3.cardB,\n          topCard = _this$state3.topCard,\n          sindex = _this$state3.sindex;\n      var scale = dragDistance.interpolate({\n        inputRange: [0, 10, 220],\n        outputRange: [secondCardZoom, secondCardZoom, 1],\n        extrapolate: 'clamp'\n      });\n      var rotate = drag.x.interpolate({\n        inputRange: [width * -1.5, 0, width * 1.5],\n        outputRange: this.props.outputRotationRange,\n        extrapolate: 'clamp'\n      });\n      return React.createElement(View, _extends({}, this._panResponder.panHandlers, {\n        style: [{\n          position: 'relative'\n        }, this.props.style],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 7\n        }\n      }), renderNoMoreCards(), React.createElement(Animated.View, _extends({}, this._setPointerEvents(topCard, 'cardB'), {\n        style: [_objectSpread(_objectSpread({\n          position: 'absolute',\n          boxShadow: '3px 28px 88px 8px',\n          shadowColor: 'green',\n          zIndex: topCard === 'cardB' ? 3 : 2\n        }, Platform.select({\n          android: {\n            elevation: topCard === 'cardB' ? 3 : 2\n          }\n        })), {}, {\n          transform: [{\n            rotate: topCard === 'cardB' ? rotate : '0deg'\n          }, {\n            translateX: topCard === 'cardB' ? drag.x : 0\n          }, {\n            translateY: topCard === 'cardB' ? drag.y : 0\n          }, {\n            scale: topCard === 'cardB' ? 1 : scale\n          }]\n        }), this.props.cardContainerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 9\n        }\n      }), cardB));\n    }\n  }], [{\n    key: \"distance\",\n    value: function distance(x, y) {\n      return Math.hypot(x, y);\n    }\n  }]);\n\n  return CardStack;\n}(Component);\n\nCardStack.defaultProps = {\n  style: {},\n  cardContainerStyle: {},\n  secondCardZoom: 0.95,\n  loop: false,\n  initialIndex: 0,\n  renderNoMoreCards: function renderNoMoreCards() {\n    return React.createElement(Text, {\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 38\n      }\n    }, \"No More Cards\");\n  },\n  onSwipeStart: function onSwipeStart() {\n    return null;\n  },\n  onSwipeEnd: function onSwipeEnd() {\n    return null;\n  },\n  onSwiped: function onSwiped() {},\n  onSwipedLeft: function onSwipedLeft() {},\n  onSwipedRight: function onSwipedRight() {},\n  onSwipedTop: function onSwipedTop() {},\n  onSwipedBottom: function onSwipedBottom() {},\n  onSwipedAll: function onSwipedAll() {\n    return _regeneratorRuntime.async(function onSwipedAll$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  onSwipe: function onSwipe() {},\n  disableBottomSwipe: false,\n  disableLeftSwipe: false,\n  disableRightSwipe: false,\n  disableTopSwipe: false,\n  verticalSwipe: true,\n  verticalThreshold: height / 4,\n  horizontalSwipe: true,\n  horizontalThreshold: width / 2,\n  outputRotationRange: ['-15deg', '0deg', '15deg'],\n  duration: 300\n};\npolyfill(CardStack);\nexport default CardStack;","map":{"version":3,"sources":["/Users/nathanchackerian/Desktop/Impressive/screens/swipe/cardstack.js"],"names":["React","Component","PropTypes","polyfill","Dimensions","get","height","width","CardStack","props","state","drag","Animated","ValueXY","x","y","dragDistance","Value","sindex","cardA","cardB","topCard","shadowColor","cards","touchStart","distance","constructor","_panResponder","PanResponder","create","onStartShouldSetPanResponder","evt","gestureState","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","isVerticalSwipe","Math","sqrt","pow","dx","dy","verticalSwipe","onMoveShouldSetPanResponderCapture","onPanResponderGrant","onSwipeStart","setState","Date","getTime","onPanResponderMove","movedX","moveX","x0","movedY","moveY","y0","onSwipe","console","log","horizontalSwipe","setValue","onPanResponderTerminationRequest","onPanResponderRelease","onSwipeEnd","currentTime","swipeDuration","verticalThreshold","horizontalThreshold","disableTopSwipe","disableLeftSwipe","disableRightSwipe","disableBottomSwipe","abs","swipeDirection","_nextCard","duration","_resetCard","onPanResponderTerminate","onShouldBlockNativeResponder","prevProps","children","_isSameChildren","Array","isArray","aIndex","_getIndex","length","bIndex","index","loop","mod","initDeck","a","b","i","key","initialIndexA","initialIndex","initialIndexB","timing","toValue","useNativeDriver","start","spring","_goBack","n","m","direction","previusCardIndex","update","d","nextCard","onSwipedAll","newTopCard","onSwiped","onSwipedLeft","onSwipedRight","onSwipedTop","onSwipedBottom","topCardName","pointerEvents","secondCardZoom","renderNoMoreCards","scale","interpolate","inputRange","outputRange","extrapolate","rotate","outputRotationRange","panHandlers","position","style","_setPointerEvents","boxShadow","zIndex","Platform","select","android","elevation","transform","translateX","translateY","cardContainerStyle","hypot","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types'\nimport { polyfill } from 'react-lifecycles-compat';\nimport {\n  View,\n  Animated,\n  PanResponder,\n  Dimensions,\n  Text,\n  Platform\n} from 'react-native';\n\nconst { height, width } = Dimensions.get('window');\n\nclass CardStack extends Component {\n\n  static distance(x, y) {\n    return Math.hypot(x, y);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      drag: new Animated.ValueXY({ x: 0, y: 0 }),\n      dragDistance: new Animated.Value(0),\n      sindex: 0, // index to the next card to be renderd mod card.length\n      cardA: null,\n      cardB: null,\n      topCard: 'cardA',\n      shadowColor: 'green',\n      cards: [],\n      touchStart: 0,\n    };\n    this.distance = this.constructor.distance;\n    this._panResponder = PanResponder.create({\n      onStartShouldSetPanResponder: (evt, gestureState) => false,\n      onStartShouldSetPanResponderCapture: (evt, gestureState) => false,\n      onMoveShouldSetPanResponder: (evt, gestureState) => {\n        const isVerticalSwipe = Math.sqrt(\n          Math.pow(gestureState.dx, 2) < Math.pow(gestureState.dy, 2)\n        )\n        if (!this.props.verticalSwipe && isVerticalSwipe) {\n          return false\n        }\n        return Math.sqrt(Math.pow(gestureState.dx, 2) + Math.pow(gestureState.dy, 2)) > 10\n      },\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) => {\n        const isVerticalSwipe = Math.sqrt(\n          Math.pow(gestureState.dx, 2) < Math.pow(gestureState.dy, 2)\n        )\n        if (!this.props.verticalSwipe && isVerticalSwipe) {\n          return false\n        }\n        return Math.sqrt(Math.pow(gestureState.dx, 2) + Math.pow(gestureState.dy, 2)) > 10\n      },\n      onPanResponderGrant: (evt, gestureState) => {\n        this.props.onSwipeStart();\n        this.setState({ touchStart: new Date().getTime() });\n      },\n      onPanResponderMove: (evt, gestureState) => {\n        const movedX = gestureState.moveX - gestureState.x0;\n        const movedY = gestureState.moveY - gestureState.y0;\n        this.props.onSwipe(movedX, movedY);\n\n        console.log(\"DX\", gestureState.dx)\n        var x = gestureState.dx\n\n        if (x < 70){\n          console.log('red')\n          this.setState({ shadowColor: 'red' })\n        }\n\n        else if (x > 70) {\n          console.log('green')\n          this.setState({ shadowColor: 'green' })\n        }\n        const { verticalSwipe, horizontalSwipe } = this.props;\n        const dragDistance = this.distance((horizontalSwipe) ? gestureState.dx : 0, (verticalSwipe) ? gestureState.dy : 0);\n        this.state.dragDistance.setValue(dragDistance);\n        this.state.drag.setValue({ x: (horizontalSwipe) ? gestureState.dx : 0, y: (verticalSwipe) ? gestureState.dy : 0 });\n      },\n      onPanResponderTerminationRequest: (evt, gestureState) => true,\n      onPanResponderRelease: (evt, gestureState) => {\n        this.props.onSwipeEnd();\n        const currentTime = new Date().getTime();\n        const swipeDuration = currentTime - this.state.touchStart;\n        const {\n          verticalThreshold,\n          horizontalThreshold,\n          disableTopSwipe,\n          disableLeftSwipe,\n          disableRightSwipe,\n          disableBottomSwipe,\n        } = this.props;\n\n        if (((Math.abs(gestureState.dx) > horizontalThreshold) ||\n          (Math.abs(gestureState.dx) > horizontalThreshold * 0.6 &&\n            swipeDuration < 150)\n        ) && this.props.horizontalSwipe) {\n\n          const swipeDirection = (gestureState.dx < 0) ? width * -1.5 : width * 1.5;\n          if (swipeDirection < 0 && !disableLeftSwipe) {\n            this._nextCard('left', swipeDirection, gestureState.dy, this.props.duration);\n          }\n          else if (swipeDirection > 0 && !disableRightSwipe) {\n            this._nextCard('right', swipeDirection, gestureState.dy, this.props.duration);\n          }\n          else {\n            this._resetCard();\n          }\n        } else if (((Math.abs(gestureState.dy) > verticalThreshold) ||\n          (Math.abs(gestureState.dy) > verticalThreshold * 0.8 &&\n            swipeDuration < 150)\n        ) && this.props.verticalSwipe) {\n\n          const swipeDirection = (gestureState.dy < 0) ? height * -1 : height;\n          if (swipeDirection < 0 && !disableTopSwipe) {\n\n            this._nextCard('top', gestureState.dx, swipeDirection, this.props.duration);\n          }\n          else if (swipeDirection > 0 && !disableBottomSwipe) {\n            this._nextCard('bottom', gestureState.dx, swipeDirection, this.props.duration);\n          }\n          else {\n            this._resetCard();\n          }\n        }\n        else {\n          this._resetCard();\n        }\n      },\n      onPanResponderTerminate: (evt, gestureState) => {\n      },\n      onShouldBlockNativeResponder: (evt, gestureState) => {\n        return true;\n      },\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (typeof this.props.children === 'undefined') return;\n    if (!this._isSameChildren(this.props.children, prevProps.children)) {\n      const children = Array.isArray(this.props.children) ? this.props.children : [this.props.children];\n      let aIndex = (this.state.topCard == 'cardA') ?\n        this._getIndex(this.state.sindex - 2, children.length) :\n        this._getIndex(this.state.sindex - 1, children.length);\n      let bIndex = (this.state.topCard == 'cardB') ?\n        this._getIndex(this.state.sindex - 2, children.length) :\n        this._getIndex(this.state.sindex - 1, children.length);\n      this.setState({\n        cards: children,\n        cardA: children[aIndex] || null,\n        cardB: children[bIndex] || null\n      });\n    }\n  }\n\n  _getIndex(index, cards){\n    return this.props.loop ? \n      this.mod(index, cards):\n      index;\n  }\n\n  componentDidMount() {\n    this.initDeck();\n  }\n\n  _isSameChildren(a, b) {\n    if (typeof a != typeof b) return false;\n    if (typeof a === 'undefined') return false;\n    if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length != b.length) return false;\n      for (let i in a) {\n        if (a[i].key != b[i].key) { return false }\n      }\n      return true;\n    }\n    if (a.key !== b.key) return false;\n\n    return true\n  }\n\n  initDeck() {\n    if (typeof this.props.children === 'undefined') return;\n    const { children, loop } = this.props;\n    const cards = Array.isArray(children) ? children : [children];\n    const initialIndexA = this.props.initialIndex < cards.length ? this.props.initialIndex : 0;\n    const initialIndexB = loop ? this.mod(initialIndexA + 1, cards.length) : initialIndexA + 1;\n    const cardA = cards[initialIndexA] || null;\n    const cardB = cards[initialIndexB] || null;\n    this.setState({\n      cards,\n      cardA,\n      cardB,\n      sindex: initialIndexB + 1,\n    });\n  }\n\n  _resetCard() {\n    Animated.timing(\n      this.state.dragDistance,\n      {\n        toValue: 0,\n        duration: this.props.duration,\n        useNativeDriver: this.props.useNativeDriver || false,\n      }\n    ).start();\n    Animated.spring(\n      this.state.drag,\n      {\n        toValue: { x: 0, y: 0 },\n        duration: this.props.duration,\n        useNativeDriver: this.props.useNativeDriver || false,\n      }\n    ).start();\n  }\n\n  goBackFromTop() {\n    this._goBack('top');\n  }\n\n  goBackFromRight() {\n    this._goBack('right');\n  }\n\n  goBackFromLeft() {\n    this._goBack('left');\n  }\n\n  goBackFromBottom() {\n    this._goBack('bottom');\n  }\n\n  mod(n, m) {\n    return ((n % m) + m) % m;\n  }\n\n  _goBack(direction) {\n    const { cards, sindex, topCard } = this.state;\n\n    if ((sindex - 3) < 0 && !this.props.loop) return;\n\n    const previusCardIndex = this.mod(sindex - 3, cards.length)\n    let update = {};\n    if (topCard === 'cardA') {\n      update = {\n        ...update,\n        cardB: cards[previusCardIndex]\n\n      }\n    } else {\n      update = {\n        ...update,\n        cardA: cards[previusCardIndex],\n      }\n    }\n\n    this.setState({\n      ...update,\n      topCard: (topCard === 'cardA') ? 'cardB' : 'cardA',\n      sindex: sindex - 1\n    }, () => {\n\n      switch (direction) {\n        case 'top':\n          this.state.drag.setValue({ x: 0, y: -height });\n          this.state.dragDistance.setValue(height);\n          break;\n        case 'left':\n          this.state.drag.setValue({ x: -width, y: 0 });\n          this.state.dragDistance.setValue(width);\n          break;\n        case 'right':\n          this.state.drag.setValue({ x: width, y: 0 });\n          this.state.dragDistance.setValue(width);\n          break;\n        case 'bottom':\n          this.state.drag.setValue({ x: 0, y: height });\n          this.state.dragDistance.setValue(width);\n          break;\n        default:\n\n      }\n\n      Animated.spring(\n        this.state.dragDistance,\n        {\n          toValue: 0,\n          duration: this.props.duration,\n          useNativeDriver: this.props.useNativeDriver || false,\n        }\n      ).start();\n\n      Animated.spring(\n        this.state.drag,\n        {\n          toValue: { x: 0, y: 0 },\n          duration: this.props.duration,\n          useNativeDriver: this.props.useNativeDriver || false,\n        }\n      ).start();\n    })\n  }\n\n  swipeTop(d = null) {\n    this._nextCard('top', 0, -height, d || this.props.duration);\n  }\n\n  swipeBottom(d = null) {\n    this._nextCard('bottom', 0, height, d || this.props.duration);\n  }\n\n  swipeRight(d = null) {\n    this._nextCard('right', width * 1.5, 0, d || this.props.duration);\n  }\n\n  swipeLeft(d = null) {\n    this._nextCard('left', -width * 1.5, 0, d || this.props.duration);\n  }\n\n  _nextCard(direction, x, y, duration = 400) {\n    const { verticalSwipe, horizontalSwipe, loop } = this.props;\n    const { sindex, cards, topCard } = this.state;\n\n    // index for the next card to be renderd\n    const nextCard = (loop) ? (Math.abs(sindex) % cards.length) : sindex;\n\n    // index of the swiped card\n    const index = (loop) ? this.mod(nextCard - 2, cards.length) : nextCard - 2;\n\n    if (index === cards.length - 1) {\n      this.props.onSwipedAll();\n    }\n\n    if ((sindex - 2 < cards.length) || (loop)) {\n      Animated.spring(\n        this.state.dragDistance,\n        {\n          toValue: 220,\n          duration,\n          useNativeDriver: this.props.useNativeDriver || false,\n        }\n      ).start();\n\n      Animated.timing(\n        this.state.drag,\n        {\n          toValue: { x: (horizontalSwipe) ? x : 0, y: (verticalSwipe) ? y : 0 },\n          duration,\n          useNativeDriver: this.props.useNativeDriver || false,\n        }\n      ).start(() => {\n\n        const newTopCard = (topCard === 'cardA') ? 'cardB' : 'cardA';\n\n        let update = {};\n        if (newTopCard === 'cardA') {\n          update = {\n            ...update,\n            cardB: cards[nextCard]\n          };\n        }\n        if (newTopCard === 'cardB') {\n          update = {\n            ...update,\n            cardA: cards[nextCard],\n          };\n        }\n        this.state.drag.setValue({ x: 0, y: 0 });\n        this.state.dragDistance.setValue(0);\n        this.setState({\n          ...update,\n          topCard: newTopCard,\n          sindex: nextCard + 1\n        });\n\n        this.props.onSwiped(index);\n        switch (direction) {\n          case 'left':\n            this.props.onSwipedLeft(index);\n            if (this.state.cards[index] && this.state.cards[index].props.onSwipedLeft)\n              this.state.cards[index] && this.state.cards[index].props.onSwipedLeft();\n            break;\n          case 'right':\n            this.props.onSwipedRight(index);\n            if (this.state.cards[index] && this.state.cards[index].props.onSwipedRight)\n              this.state.cards[index].props.onSwipedRight();\n            break;\n          case 'top':\n            this.props.onSwipedTop(index);\n            if (this.state.cards[index] && this.state.cards[index].props.onSwipedTop)\n              this.state.cards[index].props.onSwipedTop();\n            break;\n          case 'bottom':\n            this.props.onSwipedBottom(index);\n            if (this.state.cards[index] && this.state.cards[index].props.onSwipedBottom)\n              this.state.cards[index].props.onSwipedBottom();\n            break;\n          default:\n        }\n      });\n\n    }\n  }\n\n\n  /**\n   * @description CardBs click feature is trigger the CardA on the card stack. (Solved on Android)\n   * @see https://facebook.github.io/react-native/docs/view#pointerevents\n   */\n  _setPointerEvents(topCard, topCardName) {\n    return { pointerEvents: topCard === topCardName ? \"auto\" : \"none\" }\n  }\n\n  render() {\n\n    console.log(\"Color\", this.state.shadowColor)\n    const { secondCardZoom, renderNoMoreCards } = this.props;\n    const { drag, dragDistance, cardA, cardB, topCard, sindex } = this.state;\n\n    const scale = dragDistance.interpolate({\n      inputRange: [0, 10, 220],\n      outputRange: [secondCardZoom, secondCardZoom, 1],\n      extrapolate: 'clamp',\n    });\n    const rotate = drag.x.interpolate({\n      inputRange: [width * -1.5, 0, width * 1.5],\n      outputRange: this.props.outputRotationRange,\n      extrapolate: 'clamp',\n    });\n\n    return (\n      <View {...this._panResponder.panHandlers} style={[{ position: 'relative' }, this.props.style]}>\n\n        {renderNoMoreCards()}\n\n        <Animated.View\n          {...this._setPointerEvents(topCard, 'cardB')}\n          style={[{\n            position: 'absolute',\n            boxShadow: '3px 28px 88px 8px',\n            shadowColor: 'green',\n            zIndex: (topCard === 'cardB') ? 3 : 2,\n            ...Platform.select({\n              android: {\n                elevation: (topCard === 'cardB') ? 3 : 2,\n              }\n            }),\n            transform: [\n              { rotate: (topCard === 'cardB') ? rotate : '0deg' },\n              { translateX: (topCard === 'cardB') ? drag.x : 0 },\n              { translateY: (topCard === 'cardB') ? drag.y : 0 },\n              { scale: (topCard === 'cardB') ? 1 : scale },\n            ]\n          }, this.props.cardContainerStyle]}>\n          {cardB}\n        </Animated.View>\n\n\n      </View>\n    );\n  }\n}\n\nCardStack.defaultProps = {\n\n  style: {},\n  cardContainerStyle: {},\n  secondCardZoom: 0.95,\n  loop: false,\n  initialIndex: 0,\n  renderNoMoreCards: () => { return (<Text>No More Cards</Text>) },\n  onSwipeStart: () => null,\n  onSwipeEnd: () => null,\n  onSwiped: () => { },\n  onSwipedLeft: () => { },\n  onSwipedRight: () => { },\n  onSwipedTop: () => { },\n  onSwipedBottom: () => { },\n  onSwipedAll: async () => { },\n  onSwipe: () => { },\n\n  disableBottomSwipe: false,\n  disableLeftSwipe: false,\n  disableRightSwipe: false,\n  disableTopSwipe: false,\n  verticalSwipe: true,\n  verticalThreshold: height / 4,\n  horizontalSwipe: true,\n  horizontalThreshold: width / 2,\n  outputRotationRange: ['-15deg', '0deg', '15deg'],\n  duration: 300\n}\n\npolyfill(CardStack);\n\nexport default CardStack;"]},"metadata":{},"sourceType":"module"}