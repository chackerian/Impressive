(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{263:function(e,t,n){"use strict";n.d(t,"c",(function(){return at})),n.d(t,"a",(function(){return rt})),n.d(t,"b",(function(){return Ze}));var a=n(8),r=n.n(a),o=n(0),l=n.n(o),c=n(223),i=n(374),s=n(376),u=n(264),p=(n(357),n(36)),m=(n(224),n(107),n(225),n(2)),d=n.n(m),f=n(3),g=n(4),h=n(47),b=n(89),v=n(6),y=n(31);function E(e){var t=e.goBack;return l.a.createElement(g.a,{style:w.logo},l.a.createElement(y.a,{source:n(283),style:w.image,onClick:t}))}var w=f.a.create({image:{width:110,height:110,marginBottom:15,alignItems:"center",justifyContent:"center"},logo:{marginTop:40,alignItems:"center",justifyContent:"center"}}),x=n(13),S=n.n(x),A=n(15),k=n.n(A),O=n(16),C=n.n(O),P=n(19),j=n.n(P),T=n(11),I=n.n(T);function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var R=function(e){C()(n,e);var t=B(n);function n(){return S()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){return l.a.createElement(g.a,{style:N.footer})}}]),n}(o.Component),N=f.a.create({footer:{backgroundColor:"rgb(56, 5, 222)",position:"absolute",bottom:0,width:"100%",height:"10%"}}),D=R,L=n(23),U=n(184),z=n(29),F=n.n(z),M=n(10),V=n.n(M),_=n(377),G=["mode","style"];function K(e){var t=e.mode,n=e.style,a=V()(e,G);return l.a.createElement(_.a,F()({style:[W.button,"outlined"===t&&{backgroundColor:"white"},n],labelStyle:W.text,mode:t},a))}var W=f.a.create({button:{width:"100%",maxWidth:220,borderRadius:24,marginVertical:10,paddingVertical:2},text:{fontWeight:"bold",fontSize:15,lineHeight:26}});function H(e){function t(){}var a=l.a.useState(null),o=r()(a,2),c=(o[0],o[1],Object(L.useNavigation)()),i=l.a.useState(null),s=r()(i,2);s[0],s[1];"web"==v.a.OS?(n(313),window.fbAsyncInit=function(){FB.init({appId:"603428947262435",autoLogAppEvents:!0,xfbml:!0,version:"v10.0"})},t=function(){FB.login((function(t){t.authResponse&&FB.api("/me?fields=email,picture.type(normal),name",(function(t){console.log("GRAPH",t),e.route.params.login(t)}))}),{scope:"public_profile,email"})}):t=function(){var t,n,a,r,o,l;return d.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,d.a.awrap(U.a({appId:"603428947262435"}));case 3:return c.next=5,d.a.awrap(U.b({permissions:["public_profile","email"]}));case 5:if(t=c.sent,n=t.type,a=t.token,t.expirationDate,t.permissions,t.declinedPermissions,"success"!==n){c.next=22;break}return c.next=14,d.a.awrap(fetch("https://graph.facebook.com/me?fields=email,picture.type(large),name&access_token="+a));case 14:return r=c.sent,console.log(r),c.next=18,d.a.awrap(r.json());case 18:o=c.sent,e.route.params.login(o),c.next=22;break;case 22:c.next=28;break;case 24:c.prev=24,c.t0=c.catch(0),l=c.t0.message,b.a.alert("Facebook Login Error: "+l);case 28:case"end":return c.stop()}}),null,null,[[0,24]],Promise)};var u=f.a.create({button:{borderRadius:1,backgroundColor:"green"},buttons:{borderRadius:1,backgroundColor:"#4267B2"},login:{marginTop:100,alignItems:"center",borderRadius:80,padding:20},facebook:{backgroundColor:"#4267B2"},container:{flex:1,backgroundColor:"white"}});return l.a.createElement(g.a,{style:u.container},l.a.createElement(E,null),l.a.createElement(h.a,null,l.a.createElement(g.a,{style:u.login},l.a.createElement(K,{mode:"outlined",color:"white",style:u.button,onPress:function(){c.navigate("LoginScreen")}},"Login"),l.a.createElement(K,{mode:"outlined",style:u.buttons,color:"white",onPress:t},"Facebook Sign In"))),l.a.createElement(D,null))}var J=n(5),q=n.n(J),Q=n(34),X=n(252),Y=n(22),Z=n(375),$=["errorText","description"];function ee(e){var t=e.errorText,n=e.description,a=V()(e,$);return l.a.createElement(g.a,{style:te.container},l.a.createElement(Z.a,F()({style:te.input,selectionColor:"blue",underlineColor:"transparent",mode:"outlined"},a)),n&&!t?l.a.createElement(Y.a,{style:te.description},n):null,t?l.a.createElement(Y.a,{style:te.error},t):null)}var te=f.a.create({container:{marginVertical:12,width:200,color:"black"},description:{fontSize:13,paddingTop:8},error:{fontSize:13,paddingTop:8}}),ne=n(61);function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var re=function(e){C()(n,e);var t=ae(n);function n(){return S()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){return l.a.createElement(g.a,{style:oe.topNav},l.a.createElement(ne.a,{barStyle:"light-content"}),l.a.createElement(Y.a,{style:oe.text},this.props.text))}}]),n}(o.Component),oe=f.a.create({topNav:{backgroundColor:"rgb(12,0,51)",position:"absolute",height:"10%",top:0,width:"100%"},text:{color:"rgb(255,255,255)",alignSelf:"center",fontSize:14}}),le=re,ce=n(255);function ie(e){var t=e.goBack;return l.a.createElement(Q.a,{onPress:t,style:se.container},l.a.createElement(y.a,{style:se.image,source:n(314)}))}var se=f.a.create({container:{position:"absolute",top:10+Object(ce.a)(),left:4,color:"white"},image:{width:24,height:24}});function ue(e){return e?/\S+@\S+\.\S+/.test(e)?"":"Ooops! We need a valid email address.":"Email can't be empty."}function pe(e){return e?e.length<5?"Password must be at least 5 characters long.":"":"Password can't be empty."}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){var t=Object(o.useState)({value:"",error:""}),n=r()(t,2),a=n[0],c=n[1],i=Object(o.useState)({value:"",error:""}),s=r()(i,2),u=s[0],m=s[1],d=Object(L.useNavigation)();return l.a.createElement(g.a,{style:ge.container},l.a.createElement(le,null),l.a.createElement(ie,{goBack:d.goBack}),l.a.createElement(E,{goBack:d.goBack}),l.a.createElement(g.a,{style:ge.form},l.a.createElement(ee,{label:"Email",returnKeyType:"next",theme:{colors:{primary:"blue",underlineColor:"transparent"}},value:a.value,onChangeText:function(e){return c({value:e,error:""})},error:!!a.error,errorText:a.error,autoCapitalize:"none",autoCompleteType:"email",textContentType:"emailAddress",keyboardType:"email-address"}),l.a.createElement(ee,{label:"Password",returnKeyType:"done",theme:{colors:{primary:"blue",underlineColor:"transparent"}},value:u.value,onChangeText:function(e){return m({value:e,error:""})},error:!!u.error,errorText:u.error,secureTextEntry:!0})),l.a.createElement(g.a,{style:ge.forgotPassword},l.a.createElement(Q.a,{onPress:function(){return d.navigate("ResetPasswordScreen")}},l.a.createElement(X.a,{style:ge.forgot},"Forgot your password?"))),l.a.createElement(g.a,{style:ge.row},l.a.createElement(K,{mode:"contained",onPress:function(){var t=ue(a.value),n=pe(u.value);if(t||n)return c(de(de({},a),{},{error:t})),void m(de(de({},u),{},{error:n}));console.log(a,u),p.a.auth().signInWithEmailAndPassword(a.value,u.value).then((function(t){var n=t.user;console.log("logging in",n),e.route.params.login(n)})).catch((function(e){e.code,e.message}))},style:ge.default},"Login"),l.a.createElement(X.a,null,"Don\u2019t have an account? "),l.a.createElement(Q.a,{onPress:function(){return d.replace("RegisterScreen")}},l.a.createElement(X.a,{style:ge.link},"Sign up"))))}var ge=f.a.create({forgotPassword:{width:"100%",alignItems:"center",marginBottom:24},row:{flexDirection:"column",marginTop:4,alignItems:"center"},forgot:{fontSize:13,color:"red"},link:{fontWeight:"bold"},form:{alignItems:"center"},default:{backgroundColor:"black"},container:{flex:1,backgroundColor:"white"}}),he=n(131),be=n(132);function ve(e){var t=e.children;return l.a.createElement(he.a,{source:n(315),resizeMode:"repeat",style:ye.background},l.a.createElement(be.a,{style:ye.container,behavior:"padding"},t))}var ye=f.a.create({background:{flex:1,width:"100%",backgroundColor:"white"},container:{flex:1,width:"100%",alignSelf:"center"}});function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){var t=Object(o.useState)({value:"",error:""}),n=r()(t,2),a=n[0],c=n[1],i=Object(o.useState)({value:"",error:""}),s=r()(i,2),u=s[0],m=s[1],f=Object(o.useState)({value:"",error:""}),h=r()(f,2),b=h[0],v=h[1],y=Object(L.useNavigation)();return l.a.createElement(ve,null,l.a.createElement(le,null),l.a.createElement(ie,{goBack:y.goBack}),l.a.createElement(E,{goBack:y.goBack}),l.a.createElement(g.a,{style:Se.form},l.a.createElement(X.a,{style:Se.signup},"Create Account"),l.a.createElement(ee,{label:"Name",returnKeyType:"next",value:a.value,theme:{colors:{primary:"blue",underlineColor:"transparent"}},onChangeText:function(e){return c({value:e,error:""})},error:!!a.error,errorText:a.error}),l.a.createElement(ee,{label:"Email",returnKeyType:"next",theme:{colors:{primary:"blue",underlineColor:"transparent"}},value:u.value,onChangeText:function(e){return m({value:e,error:""})},error:!!u.error,errorText:u.error,autoCapitalize:"none",autoCompleteType:"email",textContentType:"emailAddress",keyboardType:"email-address"}),l.a.createElement(ee,{label:"Password",returnKeyType:"done",theme:{colors:{primary:"blue",underlineColor:"transparent"}},value:b.value,onChangeText:function(e){return v({value:e,error:""})},error:!!b.error,errorText:b.error,secureTextEntry:!0}),l.a.createElement(K,{mode:"contained",onPress:function(){var t=function(e){return e?"":"Name can't be empty."}(a.value),n=ue(u.value),r=pe(b.value);(n||r||t)&&(c(we(we({},a),{},{error:t})),m(we(we({},u),{},{error:n})),v(we(we({},b),{},{error:r})));var o={name:a.value,email:u.value};console.log("register",u.value,b.value,a.value),e.route.params.login(o);!function(e,t){d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.awrap(p.a.auth().createUserWithEmailAndPassword(e,t));case 3:n.sent&&console.log("RESPONSE"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0.message);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)}(u.value,b.value)},style:{marginTop:24}},"Sign Up"),l.a.createElement(g.a,{style:Se.row},l.a.createElement(X.a,null,"Already have an account? "),l.a.createElement(Q.a,{onPress:function(){return y.replace("LoginScreen")}},l.a.createElement(X.a,{style:Se.link},"Login")))))}var Se=f.a.create({row:{flexDirection:"row",marginTop:4},form:{alignItems:"center"},signup:{color:"black",textAlign:"center",fontSize:20,fontWeight:"bold"},link:{fontWeight:"bold",color:"blue"}}),Ae=n(69),ke=n(70);function Oe(e){var t=e.nav;return l.a.createElement(Q.a,{onPress:t,style:Ce.container},l.a.createElement(Ae.a,{icon:ke.b,size:30}))}var Ce=f.a.create({container:{position:"absolute",left:200,top:10}});function Pe(e){var t=e.nav;return l.a.createElement(Q.a,{onPress:t,style:je.container},l.a.createElement(Ae.a,{icon:ke.a,size:20}))}var je=f.a.create({container:{left:120,top:100,position:"absolute",padding:1}});function Te(e){var t=Object(L.useNavigation)(),n=(e.route.params.user,Object(o.useState)("")),a=r()(n,2),c=a[0],i=a[1],s=Object(o.useState)(""),u=r()(s,2),p=(u[0],u[1]),m=Object(o.useState)(""),d=r()(m,2),h=d[0],b=d[1],v=Object(o.useState)(""),E=r()(v,2),w=E[0],x=E[1],S=Object(o.useState)(""),A=r()(S,2),k=A[0],O=A[1],C=Object(o.useState)(""),P=r()(C,2),j=P[0],T=P[1],I=Object(o.useState)(""),B=r()(I,2),R=B[0],N=B[1],D=Object(o.useState)(""),U=r()(D,2);U[0],U[1];at.collection("users").doc(e.route.params.user.email).onSnapshot((function(e){e.exists&&(console.log("DOC",e.data()),i(e.data().name),p(e.data().age),x(e.data().interests),b(e.data().about),O(e.data().picture),T(e.data().city),N(e.data().state))}));var z=f.a.create({container:{flex:1,alignItems:"center",backgroundColor:"white"},name:{paddingTop:15,fontSize:20,fontWeight:"bold"},image:{width:100,height:100,marginTop:30,borderRadius:50},instaimage:{width:50,height:50,marginLeft:15,display:"flex"},details:{paddingTop:1,alignItems:"center",color:"white"},info:{alignItems:"center",marginTop:90},instagram:{width:"220px",display:"flex",marginTop:"20px",flexWrap:"wrap"},photos:{width:"150px",height:"150px",position:"relative",overflow:"hidden",margin:"5px"}});return console.log("LOCATION"),l.a.createElement(ve,null,l.a.createElement(g.a,{style:z.container},l.a.createElement(le,null),l.a.createElement(g.a,{style:z.info},l.a.createElement(y.a,{source:{uri:k},style:z.image}),l.a.createElement(Y.a,{style:z.name},c),l.a.createElement(Pe,{nav:function(){t.navigate("Image")}}),l.a.createElement(Oe,{nav:function(){t.navigate("Settings")}}),l.a.createElement(g.a,{style:z.details},l.a.createElement(Y.a,null,j,", ",R),l.a.createElement(Y.a,null,h),l.a.createElement(Y.a,null,"Interests: ",w)))))}var Ie=n(257),Be=n.n(Ie),Re=(f.a.create({msg:{display:"flex",padding:"20px 10px 0 20px",margin:"20px",borderRadius:"30px",boxShadow:"0 0 10px rgb(164, 164, 164)",alignItems:"center",backgroundColor:"blue"},sent:{backgroundColor:"blue",color:"white",flexDirection:"row-reverse",padding:"20px 20px 0 10px",textAlign:"end",float:"right"},received:{border:"1px solid lightgray",backgroundColor:"grey",float:"left"},msgs:{margin:"110px 48px",width:"60%",outline:"1px solid rgb(216, 216, 216)",display:"flex",flexDirection:"column"},contacts:{margin:"110px 48px",width:"40%",outline:"1px solid rgb(216, 216, 216)"}}),String(Math.floor(1e15*Math.random())));function Ne(e){e.navigation;var t=Object(o.useState)([]),n=r()(t,2),a=n[0],c=n[1],i=Object(o.useState)([]),s=r()(i,2),u=s[0],m=s[1];Object(o.useEffect)((function(){at.collection("messages").doc(Re).collection("convo").orderBy("createdAt").limit(50).onSnapshot((function(e){m(e.docs.map((function(e){return e.data()})))}))}),[]);var f=function(){function e(){S()(this,e)}return k()(e,null,[{key:"create",value:function(e){var t={};for(var n in e)t[n]=e[n];return t}}]),e}().create({msg:{display:"flex",padding:"0px 10px 0 10px",margin:"5px",alignItems:"center",color:"white",backgroundColor:"blue",width:"min-content"}});return l.a.createElement(ve,null,l.a.createElement(h.a,null,l.a.createElement(le,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"contacts"}),l.a.createElement("div",{className:"msgs"},u.map((function(e){var t=e.id,n=e.text,a=e.photoURL,r=e.uid;return l.a.createElement("div",null,l.a.createElement("div",{key:t,style:f.msg,className:"msg "+(r===rt.currentUser.uid?"sent":"received")},l.a.createElement("img",{src:a,alt:""}),l.a.createElement("p",null,n)))})))),l.a.createElement(ee,{style:{width:"78%",fontSize:"15px",fontWeight:"550",marginLeft:"5px",marginBottom:"-3px"},theme:{colors:{primary:"blue",underlineColor:"transparent"}},placeholder:"Message...",value:a,onChangeText:function(e){return c(e)}}),l.a.createElement(Q.a,{onPress:function(e){var t,n;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),t=rt.currentUser.uid,n=rt.currentUser.photoURL,!(a.length>0)){r.next=8;break}return r.next=6,d.a.awrap(at.collection("messages").doc(Re).set({createdAt:p.a.firestore.FieldValue.serverTimestamp()}));case 6:return r.next=8,d.a.awrap(at.collection("messages").doc(Re).collection("convo").add({text:a,avatar:n,uid:t,createdAt:p.a.firestore.FieldValue.serverTimestamp()}));case 8:c("");case 9:case"end":return r.stop()}}),null,null,null,Promise)}},l.a.createElement(Be.a,null))))}n(355);function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var Le=function(e){C()(n,e);var t=De(n);function n(e){var a;return S()(this,n),(a=t.call(this,e)).logout=function(){console.log("LOGOUT"),a.props.logout()},a}return k()(n,[{key:"render",value:function(){return l.a.createElement(g.a,{style:Ue.topNav},l.a.createElement(ne.a,{barStyle:"light-content"}),l.a.createElement(Y.a,{style:Ue.text}),l.a.createElement(Q.a,{style:Ue.slider,onPress:this.logout},l.a.createElement(Y.a,null,"Logout")))}}]),n}(o.Component),Ue=f.a.create({topNav:{flex:1,justifyContent:"center",paddingHorizontal:10},slider:{paddingTop:50,paddingRight:30,alignItems:"flex-end"},text:{color:"rgb(255,255,255)",alignSelf:"center",fontSize:30}}),ze=Le,Fe=n(265),Me=n(261);function Ve(e){var t=Object(o.useState)(""),n=r()(t,2),a=n[0],c=n[1],i=Object(o.useState)(""),s=r()(i,2),u=s[0],p=s[1],m=Object(o.useState)(""),d=r()(m,2),b=d[0],v=d[1],y=Object(o.useState)(""),E=r()(y,2),w=E[0],x=E[1],S=Object(o.useState)(""),A=r()(S,2),k=A[0],O=A[1],C=Object(o.useState)(new Date),P=r()(C,2),j=P[0],T=P[1],I=Object(o.useState)(!0),B=r()(I,2),R=(B[0],B[1],Object(L.useNavigation)());function N(){var t,n=e.route.params.user.email,r=(t=j,Math.floor((new Date-new Date(t).getTime())/315576e5));console.log("INFO",j,r,w,k),at.collection("users").doc(n).update({name:u||"",about:a||"",interests:b||"",birthday:j||"",age:r||"",location:k||"",city:w[0].value||"",state:w[1].value||""}),R.navigate("Dashboard")}Object(o.useEffect)((function(){at.collection("users").doc(e.route.params.user.email).onSnapshot((function(e){e.exists&&(console.log("DOC",e.data()),p(e.data().name||""),v(e.data().interests||""),c(e.data().about||""),x(e.data().location))}))}),[]);var D=f.a.create({containers:{alignItems:"center",height:"90%"},buttons:{color:"black",height:10},locations:{width:300,height:10}});return l.a.createElement(h.a,{keyboardShouldPersistTaps:"handled"},l.a.createElement(ze,{logout:e.route.params.logout}),l.a.createElement(g.a,{style:D.containers},l.a.createElement(ee,{label:"Name",placeholderTextColor:"#666666",theme:{colors:{primary:"blue",underlineColor:"transparent"}},value:u,onChangeText:p}),l.a.createElement(Fe.a,{style:{width:200,height:30},value:j,mode:"date",placeholder:"select date",onChange:function(e,t){T(t||j)}}),l.a.createElement(ee,{multiline:!0,numberOfLines:3,label:"About Me",placeholderTextColor:"#666666",theme:{colors:{primary:"blue",underlineColor:"transparent"}},value:a,onChangeText:c,style:[D.textInput]}),l.a.createElement(ee,{multiline:!0,numberOfLines:3,label:"Interests",placeholderTextColor:"#666666",theme:{colors:{primary:"blue",underlineColor:"transparent"}},value:b,onChangeText:v}),l.a.createElement(Me.a,{placeholder:"Location",value:w,style:D.locations,onPress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("INFO",e,t),x(e.terms),O(e.description)},query:{key:"AIzaSyD3MXFkALBGLrX_q9Crv6TFB6uZ46FwHok",language:"en"},requestUrl:{useOnPlatform:"web",url:"https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api"},styles:{textInputContainer:{width:200,height:10},textInput:{height:48,color:"#5d5d5d",fontSize:16},predefinedPlacesDescription:{color:"#1faadb"}}}),l.a.createElement(K,{mode:"outlined",color:"black",onPress:N},"Connect Instagram"),l.a.createElement(K,{mode:"outlined",color:"black",onPress:N},"Connect Facebook"),l.a.createElement(K,{mode:"outlined",color:"black",onPress:N},"Save")))}var _e=n(182);function Ge(e){var t=Object(o.useState)(null),n=r()(t,2),a=n[0],c=n[1],i=Object(o.useState)(""),s=r()(i,2),u=(s[0],s[1]),m=function(t){var n,a,r;return d.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,d.a.awrap(fetch(t));case 2:return n=o.sent,o.next=5,d.a.awrap(n.blob());case 5:a=o.sent,r="images/IMG"+Math.round(100*Math.random()),p.a.storage().ref().child(r).put(a).then((function(t){p.a.storage().ref(r).getDownloadURL().then((function(t){u(t);var n=e.route.params.user.email;console.log("USER",n,t),p.a.firestore().collection("users").doc(n).update({picture:t})}))}));case 9:case"end":return o.stop()}}),null,null,null,Promise)};return l.a.createElement(g.a,{style:Ke.container},l.a.createElement(K,{mode:"outlined",color:"black",onPress:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(_e.b());case 2:return t.sent,t.next=5,d.a.awrap(_e.a());case 5:e=t.sent,c(e.uri),e.cancelled||m(e.uri);case 8:case"end":return t.stop()}}),null,null,null,Promise)}},"Upload Image"),a&&l.a.createElement(y.a,{source:{uri:a},style:{width:200,height:200}}))}var Ke=f.a.create({container:{alignItems:"center",marginTop:30}}),We=n(26);function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var Je=function(e){C()(n,e);var t=He(n);function n(){return S()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){return l.a.createElement(g.a,{style:qe.topNav},l.a.createElement(ne.a,{barStyle:"light-content"}),l.a.createElement(Y.a,{style:qe.text}),l.a.createElement(Q.a,{style:qe.slider},l.a.createElement(Ae.a,{icon:ke.d,size:30})))}}]),n}(o.Component),qe=f.a.create({topNav:{backgroundColor:"rgb(12,0,51)",position:"absolute",height:"10%",top:0,width:"100%"},slider:{paddingTop:70,paddingRight:20,alignItems:"flex-end"},text:{color:"rgb(255,255,255)",alignSelf:"center",fontSize:30}}),Qe=Je,Xe=n(183);We.a.get("window").height,We.a.get("window").width;function Ye(e){var t=Object(o.useState)([]),n=r()(t,2),a=n[0],c=n[1],i=Object(o.useState)(),s=r()(i,2),u=s[0],m=s[1],h=f.a.create({image:{opacity:1,height:420},info:{padding:2},description:{fontSize:20,marginLeft:12},viewport:{height:250,marginTop:200,marginLeft:"auto",marginRight:"auto",alignItems:"center"},button:{padding:30},container:{flex:1,flexDirection:"column"},buttonContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center"},content:{flex:5,alignItems:"center",justifyContent:"center"},card:{width:320,height:500,backgroundColor:"lightgray",borderRadius:5,shadowColor:"rgba(0,0,0,0.5)",shadowOffset:{width:0,height:1},shadowOpacity:.5},label:{marginLeft:12,fontSize:25,fontFamily:"System",backgroundColor:"transparent"}});Object(o.useEffect)((function(){!function(){var t,n,a,r,o,l,i,s,u;d.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,d.a.awrap(at.collection("users").doc(e.route.params.user.email).get());case 2:for(t=p.sent,n=t.data().likes||[],a=t.data().dislikes||[],r=n.concat(a),o=[];r.length;)o.push(r.splice(0,10));l=[],i=0;case 10:if(!(i<o.length)){p.next=18;break}return p.next=13,d.a.awrap(at.collection("users").where("email","not-in",o[i]).get());case 13:s=p.sent,l.push(s);case 15:i++,p.next=10;break;case 18:console.log(l),u=[],s.docs.forEach((function(e){u.push(e.data())})),c(u);case 22:case"end":return p.stop()}}),null,null,null,Promise)}()}),[]);return l.a.createElement(g.a,null,l.a.createElement(Qe,null),l.a.createElement(g.a,{style:h.viewport},l.a.createElement(Xe.b,{style:h.content,ref:function(e){m(e)}},a.map((function(t){var n=t.name.split(" ")[0];return l.a.createElement(Xe.a,{style:[h.card,h.card1],key:t.name,onSwipedRight:function(n){return function(t){var n,a;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return at.collection("users").doc(e.route.params.user.email).update({likes:p.a.firestore.FieldValue.arrayUnion(t)}),r.next=3,d.a.awrap(at.collection("users").doc(t).get());case 3:n=r.sent,a=n.data(),console.log(a),"web"==Platform.OS?Alerts.success("Test message stackslide effect!",{position:"top-right",effect:"stackslide"}):b.a.alert("New Match","My Alert Msg",[{text:"Cancel",onPress:function(){return console.log("Cancel Pressed")},style:"cancel"},{text:"New Match",onPress:function(){return console.log("OK Pressed")}}]);case 7:case"end":return r.stop()}}),null,null,null,Promise)}(t.email)},onSwipedLeft:function(n){return a=t.email,void at.collection("users").doc(e.route.params.user.email).update({dislikes:p.a.firestore.FieldValue.arrayUnion(a)});var a}},l.a.createElement(y.a,{source:{uri:t.picture},style:h.image}),l.a.createElement(g.a,{style:h.info},l.a.createElement(Y.a,{style:h.label},n,", ",t.age),l.a.createElement(Y.a,{style:h.description},t.city,", ",t.state)))})))),l.a.createElement(g.a,{style:h.buttonContainer},l.a.createElement(Q.a,{style:[h.button],onPress:function(){u.swipeLeft()}},l.a.createElement(Ae.a,{icon:ke.e,color:"red",size:40})),l.a.createElement(Q.a,{style:[h.button],onPress:function(){u.swipeRight()}},l.a.createElement(Ae.a,{icon:ke.c,color:"green",size:40}))))}Object(o.createContext)(null);function Ze(){var e=Object(o.useState)(null),t=r()(e,2),n=t[0],a=t[1];return n?l.a.createElement(nt,{user:n,logout:function(){p.a.auth().signOut(),a(null)},onStateChange:function(e){return console.log("CHANGED",e)}}):l.a.createElement(et,{login:function(e){a(e);var t=at.collection("users").doc(e.email);console.log("EMAIL",e.email),t.get().then((function(n){n.exists?console.log("Login"):(console.log("Sign UP"),e.picture?t.set({name:e.name||"",email:e.email||"",picture:e.picture.data.url,likes:["blank"],dislikes:["blank"],conversations:[]}):t.set({name:e.name||"",email:e.email||"",picture:"https://www.edmundsgovtech.com/wp-content/uploads/2020/01/default-picture_0_0.png",likes:["blank"],dislikes:["blank"],conversations:[]}))}))}})}var $e=Object(i.a)();function et(e){return l.a.createElement(c.a,null,l.a.createElement($e.Navigator,{screenOptions:{headerShown:!1}},l.a.createElement($e.Screen,{name:"StartScreen",component:H,options:{title:"TalkLater"},initialParams:{login:e.login}}),l.a.createElement($e.Screen,{name:"LoginScreen",component:fe,initialParams:{login:e.login}}),l.a.createElement($e.Screen,{name:"RegisterScreen",component:xe,initialParams:{login:e.login}})))}var tt=Object(s.a)();function nt(e){return l.a.createElement(c.a,null,l.a.createElement(tt.Navigator,{initialRouteName:"Swipe",tabBarOptions:{style:{padding:10}}},l.a.createElement(tt.Screen,{name:"Swipe",component:Ye,initialParams:{user:e.user},options:{tabBarLabel:"",tabBarIcon:function(e){var t=e.color;return l.a.createElement(u.a,{name:"home",color:t,size:26})}}}),l.a.createElement(tt.Screen,{name:"Messages",component:Ne,initialParams:{user:e.user},options:{tabBarLabel:"",tabBarIcon:function(e){var t=e.color;return l.a.createElement(u.a,{name:"chat",color:t,size:26})}}}),l.a.createElement(tt.Screen,{name:"Dashboard",component:Te,initialParams:{user:e.user},options:{tabBarLabel:"",tabBarIcon:function(e){var t=e.color;return l.a.createElement(u.a,{name:"account-circle",color:t,size:26})}}}),l.a.createElement(tt.Screen,{name:"Settings",component:Ve,initialParams:{user:e.user,logout:e.logout},options:{tabBarButton:function(){return null}}}),l.a.createElement(tt.Screen,{name:"Image",component:Ge,initialParams:{user:e.user,logout:e.logout},options:{tabBarButton:function(){return null}}})))}p.a.initializeApp({apiKey:"AIzaSyDLeiyd8iai6akLcumpP5-A1yxs7t5wflk",authDomain:"socially-b729a.firebaseapp.com",databaseURL:"https://socially-b729a-default-rtdb.firebaseio.com",projectId:"socially-b729a",storageBucket:"socially-b729a.appspot.com",messagingSenderId:"804187430311",appId:"1:804187430311:web:6dad7a05a011fb3a032a82",measurementId:"G-P1NKXT7943"}),p.a.firestore().settings({timestampsInSnapshots:!0});p.a.storage();var at=p.a.firestore(),rt=p.a.auth();console.log("DATABASE INIT"),at.collection("users").onSnapshot("value",(function(e){console.log(e,"CHANGED")}))},272:function(e,t,n){e.exports=n(356)},283:function(e,t,n){e.exports=n.p+"static/media/logo.f09f0d26.jpg"},313:function(e,t){!function(e,t,n,a,r){var o=window.console;if(o&&Math.floor((new Date).getTime()/1e3)-t>604800&&o.warn("The Facebook JSSDK is more than 7 days old."),!window[n]&&window.JSON){var l=window[n]={__buffer:{replay:function(){for(var e=this,t=function(t){var a=window[n];e.calls[t][0].split(".").forEach((function(e){return a=a[e]})),a.apply(null,e.calls[t][1])},a=0;a<this.calls.length;a++)t(a);this.calls=[]},calls:[],opts:null},getUserID:function(){return""},getAuthResponse:function(){return null},getAccessToken:function(){return null},init:function(e){l.__buffer.opts=e}};for(t=0;t<a.length;t++)if(!((o=a[t])in l)){for(var c=o.split("."),i=c.pop(),s=l,u=0;u<c.length;u++)s=s[c[u]]||(s[c[u]]={});s[i]=function(e){if("init"!==e)return function(){l.__buffer.calls.push([e,Array.prototype.slice.call(arguments)])}}(o)}u=e,(c=/Chrome\/(\d+)/.exec(navigator.userAgent))&&Number(c[1])>=55&&"assign"in Object&&"findIndex"in[]&&(u+="&ua=modern_es6"),(s=document.createElement("script")).src=u,s.async=!0,r&&(s.crossOrigin="anonymous"),(i=document.getElementsByTagName("script")[0]).parentNode&&i.parentNode.insertBefore(s,i)}}("https://connect.facebook.net/en_US/sdk.js?hash=3782b10101e382b95d43ce572bc862b6",1622944044,"FB",["AppEvents.EventNames","AppEvents.ParameterNames","AppEvents.activateApp","AppEvents.clearAppVersion","AppEvents.clearUserID","AppEvents.getAppVersion","AppEvents.getUserID","AppEvents.logEvent","AppEvents.logPageView","AppEvents.logPurchase","AppEvents.setAppVersion","AppEvents.setUserID","AppEvents.updateUserProperties","Canvas.Plugin.showPluginElement","Canvas.Plugin.hidePluginElement","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.startTimer","Canvas.stopTimer","Event.subscribe","Event.unsubscribe","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui"],!0)},314:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURUdwTAAAAJ8qhFEAAAABdFJOUwBA5thmAAAASElEQVRYw+2WsQ0AIBCEZP+lHcGCfIwRekhem1sr4gvA+q4ArgCukJ+ff98/YX2sPxbQJ/hH9N9YoUKF0cLFkeVnnh+aEa+wAUNcAf695yw2AAAAAElFTkSuQmCC"},315:function(e,t,n){e.exports=n.p+"static/media/background.6a67ac48.jpeg"}},[[272,1,2]]]);
//# sourceMappingURL=app.99461ae9.chunk.js.map